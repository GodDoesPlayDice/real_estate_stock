<script  type="text/babel">
class App extends React.Component {
    constructor (props) {
        super(props);
        this.state = {mode: "default"};
    };
    render () {
        // создание объекта для поиска сделок в автокомплите
        let docNamesObj = {};
        getDocNames().forEach((elem) => {
            {elem != '' &&
                (docNamesObj[elem] = null)
            }  
        });
        //
        return (
            <div>
                <Navbar 
                    logo="Виноград 2" 
                    docsList={docNamesObj}
                />
                <div class="container">
                    <NewDoc />
                </div>
            </div>
        );
    };
};

class NewDoc extends React.Component {
    constructor (props) {
        super(props);
    }
    render () {
        return (
            <div>
                <Select 
                    value="1" 
                    label="Выбор менеджера:" 
                />
                <SimpleText 
                    value=''
                    label="ФИО клиента:"
                />
                <TextArea
                    value=''
                    label="Комментарий к документу:"
                />
                <DatePicker
                    value=''
                    label="Дата текущего статуса:"
                />
                <DatePicker
                    value=''
                    label="
                    Предполагаемая дата следующего статуса:"
                />
                <Radio
                    value=''
                    first='Л'
                    second='АН'
                    label="
                    Тип сделки:"
                />
                <CheckBox
                    label="остается в продаже от физ лица"
                />
            </div>
        )
    }
}


class Navbar extends React.Component {
    constructor (props) {
        super(props);
        this.logo = this.props.logo
        this.autocompleteData = this.props.docsList
    };
    componentDidMount () {
        // инициализация автокомплита
        let elems = document.querySelectorAll('.autocomplete');
        let instances = M.Autocomplete.init(elems, {
                data: this.autocompleteData
        });

        // инициализация пушпин
        let elems2 = document.querySelectorAll('.pushpin');
        let instances2 = M.Pushpin.init(elems2, {});
    }
    render () {
        // для того, чтобы верхнее меню было поверх всего остального
        let styles = {"z-index": "2147483637"};
        return (
                <nav class="indigo pushpin" style={styles}>
                    <div class="nav-wrapper container row">
                        <div class="col s2">
                            <a href="#" class="brand-logo">{this.logo}</a>
                        </div>
                        <form class="col s6">
                            <div class="input-field">
                                <input id="search" type="search" class="autocomplete" placeholder="Поиск сделки" required />
                                
                                <i class="material-icons">close</i>
                            </div>
                        </form>
                        <div class="col s4">
                            <ul id="nav-mobile" class="right hide-on-med-and-down">
                                <TopMenuButton purpose="Новый документ" />
                                <TopMenuButton purpose="Статистика" />
                            </ul>
                        </div>
                    </div>
                </nav>
        );
    }
}

class Template extends React.Component {
    constructor (props) {
        super(props);
    }
    render () {
        return
    }
}

</script>


